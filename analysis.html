<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>需求分析和架构设计 | Web前端学习笔记</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Web 前端学习笔记">
    
    <link rel="preload" href="/web-notes/assets/css/0.styles.f3b0d8a4.css" as="style"><link rel="preload" href="/web-notes/assets/js/app.7aab198c.js" as="script"><link rel="preload" href="/web-notes/assets/js/2.73fa03b1.js" as="script"><link rel="preload" href="/web-notes/assets/js/6.ab325388.js" as="script"><link rel="prefetch" href="/web-notes/assets/js/3.c760fc58.js"><link rel="prefetch" href="/web-notes/assets/js/4.b06963d8.js"><link rel="prefetch" href="/web-notes/assets/js/5.f6a321fd.js"><link rel="prefetch" href="/web-notes/assets/js/7.0deda649.js"><link rel="prefetch" href="/web-notes/assets/js/8.09fd6c5a.js"><link rel="prefetch" href="/web-notes/assets/js/9.db3b6e99.js">
    <link rel="stylesheet" href="/web-notes/assets/css/0.styles.f3b0d8a4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web-notes/" class="home-link router-link-active"><!----> <span class="site-name">Web前端学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/web-notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/shibin-cli/web-notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/web-notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/shibin-cli/web-notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/web-notes/analysis.html" aria-current="page" class="active sidebar-link">需求和架构设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-notes/analysis.html#学习方法" class="sidebar-link">学习方法</a></li><li class="sidebar-sub-header"><a href="/web-notes/analysis.html#注意事项" class="sidebar-link">注意事项</a></li><li class="sidebar-sub-header"><a href="/web-notes/analysis.html#需求分析" class="sidebar-link">需求分析</a></li><li class="sidebar-sub-header"><a href="/web-notes/analysis.html#以架构师的思维来分析需求" class="sidebar-link">以架构师的思维来分析需求</a></li><li class="sidebar-sub-header"><a href="/web-notes/analysis.html#架构设计" class="sidebar-link">架构设计</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="需求分析和架构设计"><a href="#需求分析和架构设计" class="header-anchor">#</a> 需求分析和架构设计</h1> <h2 id="学习方法"><a href="#学习方法" class="header-anchor">#</a> 学习方法</h2> <ul><li>要有耐心，不要一心想着写代码，觉得需求和设计不重要</li> <li>抛开你固有的程序员思维，开始准备接受架构师思维</li> <li>要坚信：技术永远都是为业务服务的，技术是实现业务增长的工具</li></ul> <h2 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h2> <ul><li>不要关注细节，要看整体，看范围</li> <li>设计时判断可行性，不确定的就调研一下（这需要大量的工作经验积累，技术能力）</li> <li>设计要考虑复杂度，越简单越好，不要过度设计，不要为了设计而设计</li></ul> <h2 id="需求分析"><a href="#需求分析" class="header-anchor">#</a> 需求分析</h2> <div class="custom-block tip"><p class="custom-block-title">注意</p> <p>脱离业务的架构就是耍流氓。架构师必须要深入理解需求、参与需求、看透需求背后的业务本质。</p></div> <p>没有业务就不需要架构</p> <h3 id="主要产出"><a href="#主要产出" class="header-anchor">#</a> 主要产出</h3> <ul><li>熟悉产品需求</li> <li>学会以架构师的思维分析需求</li> <li>全局思维、整体思维、闭环思维</li></ul> <h3 id="注意事项-2"><a href="#注意事项-2" class="header-anchor">#</a> 注意事项</h3> <ul><li>对待需求要有耐心，不要一心只想着写代码</li> <li>技术永远都是为业务服务的，分清甲方乙方</li> <li>需求即业务，无业务不架构，坚信这一点
<hr> <img src="/web-notes/assets/img/process.a55c776e.jpg" alt="需求分析和架构设计"></li></ul> <h2 id="以架构师的思维来分析需求"><a href="#以架构师的思维来分析需求" class="header-anchor">#</a> 以架构师的思维来分析需求</h2> <p>程序员对于需求和业务能力的理解可能会影响到你的API设计，进而影响到你的研发</p> <p>以下都以<a href="https://www.imooc-lego.com" target="_blank" rel="noopener noreferrer">慕课乐高<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的需求为例</p> <h3 id="浅层需求"><a href="#浅层需求" class="header-anchor">#</a> 浅层需求</h3> <p>一眼就能看出的需求即产品表面的业务功能。例如慕课乐高的登陆、查看模板、新建模板、编辑等功能</p> <h3 id="深度需求"><a href="#深度需求" class="header-anchor">#</a> 深度需求</h3> <p>不容易一眼看到的需求，但是却很重眼的需求</p> <h4 id="作品管理"><a href="#作品管理" class="header-anchor">#</a> 作品管理</h4> <ul><li>删除和恢复</li> <li>转增（例如员工离职交接工作等）</li> <li>赋值</li></ul> <h4 id="作品统计"><a href="#作品统计" class="header-anchor">#</a> 作品统计</h4> <p>业务闭环，统计就能很好的体体现这一点，有输入就要有输出</p> <ul><li>统计</li> <li>分渠道统计，渠道对于运营人员非常重要
<ul><li>例如分析流量流入的来源</li></ul></li></ul> <h4 id="作品发布"><a href="#作品发布" class="header-anchor">#</a> 作品发布</h4> <ul><li>url不能变</li> <li>支持多渠道</li></ul> <h4 id="分享"><a href="#分享" class="header-anchor">#</a> 分享</h4> <p>分享 - 对业务增长负责</p> <h4 id="后台管理"><a href="#后台管理" class="header-anchor">#</a> 后台管理</h4> <p>全局把控，让一切尽在掌握之中</p> <ul><li>数据统计</li> <li>作品管理（快速下线作品，防止有违规内容）</li> <li>用户管理（快速冻结用户，防止违规用户）</li> <li>模板管理（控制展示哪些模板等）</li></ul> <h2 id="架构设计"><a href="#架构设计" class="header-anchor">#</a> 架构设计</h2> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>任何看似复杂的设计，都是让整个系统变的更简单</p></div> <p>“很多程序员学了大量的算法和计算机基础，然而在工作中却派不上用场。这是非常正常的，因为这些内容是为了在科学领域做研究准备的。而在业务领域，大多是如何把现有业务在软件中模拟出来的问题，并没有太高深的数学问题。并且现在的计算机硬件，比如 CPU、内存、存储都很便宜，也不需要斤斤计较的去抠空间和时间复杂度。这些都导致所学不能致用。反而如何能够高效的把业务用软件表达出来，并能够随着业务的增长，让软件也快速长大，则变成了一个更重要的问题。这一点可能是当前计算机软件教育需要思考的问题。” —— 《聊聊架构》</p> <h3 id="分析需求-确定需要创建的项目"><a href="#分析需求-确定需要创建的项目" class="header-anchor">#</a> 分析需求，确定需要创建的项目</h3> <p>先不看细节，看整体，这一步就是确定项目的范围。确定范围是做任何事情的第一步。</p> <p>范围确定好了，剩下的事情，即便有问题，也属于“人民内部矛盾”。该购买第三方服务，还是该自研，或者该放弃，就看实际情况了。</p> <p>以<a href="https://www.imooc-lego.com" target="_blank" rel="noopener noreferrer">慕课乐高<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>为例</p> <h4 id="需要那些项目"><a href="#需要那些项目" class="header-anchor">#</a> 需要那些项目</h4> <p>从需求来看，比较重要的几个方面：B 端和编辑器，H5 ，管理后台</p> <ul><li>B 端和编辑器,做的前后端分离</li> <li>H5 适合做SSR，因为要考虑性能</li> <li>管理后台，做前端分析</li></ul> <div class="custom-block tip"><p class="custom-block-title">注意</p> <p>使用ssr需要分场景，一般来讲，toB 的不适合用，toC 的适合用。所以，架构设计要考虑成本，要用最简单的方案，不要为了设计而设计。</p></div> <h4 id="独立的业务组件库"><a href="#独立的业务组件库" class="header-anchor">#</a> 独立的业务组件库</h4> <p>把功能独立的业务组件库和模块给抽离出来，方便其他地方复用</p> <h3 id="统计服务"><a href="#统计服务" class="header-anchor">#</a> 统计服务</h3> <p>熟悉需求很重要，而且，我们非常明确，这个需求是我们业务环节中非常重要的一部分，没有它，我们业务就无法闭环，就跑不通。</p> <h4 id="为什么要自研统计"><a href="#为什么要自研统计" class="header-anchor">#</a> 为什么要自研统计</h4> <p>要实现这个功能，我们就需要自定义事件统计。普通的 pv 统计，是无法满足要求的。</p> <ul><li>支持自定义事件</li> <li>支持open API ，这个非常重要</li></ul> <p>需求不能砍掉，第三方服务无法满足需求，只能自研一个</p> <ul><li>日志收集</li> <li>日志分析</li> <li>OpenAPI</li></ul> <h3 id="各个项目之间的关系"><a href="#各个项目之间的关系" class="header-anchor">#</a> 各个项目之间的关系</h3> <p>画张流程图表示各个模块之间的关系</p> <h3 id="核心数据结构"><a href="#核心数据结构" class="header-anchor">#</a> 核心数据结构</h3> <p>问题</p> <ul><li>在点“保存”按钮的时候，往服务端传递的数据结构是什么样子的？</li> <li>如何保证画布和属性面板是同步更新的？</li> <li>如果在扩展一个“图层”面板，数据结构该怎么设计？</li></ul> <p><img src="/web-notes/assets/img/example.c77cc8e2.png" alt="数据结构设计"></p> <p>思路</p> <ul><li>组件设计尽量符合vnode结构即应该服务大多数业界规范的结构</li> <li>用数组来组织数据，有序（图层就是有序的）</li> <li>尽量使用引用关系，不要冗余</li></ul> <p>数据流转</p> <ul><li>分析数据流转的过程</li></ul> <p>注意：千万不要扣细节</p> <p>做技术方案设计，为的就是寻找一个方向，论证可行性、拓展性、复杂度高低</p> <h3 id="写技术方案设计文档"><a href="#写技术方案设计文档" class="header-anchor">#</a> 写技术方案设计文档</h3> <p>如何写</p> <ul><li>随性一点，解释一下你要如何做即可</li> <li>可以尝试写一部分代码，捋一捋思路，再来写文档</li> <li>如果写不出来，说明还没有想明白，正好暴露了问题</li></ul> <h4 id="整体架构设计"><a href="#整体架构设计" class="header-anchor">#</a> 整体架构设计</h4> <ul><li>需求</li> <li>范围</li> <li>模块设计</li> <li>数据结构</li> <li>拓展性</li> <li>开发提效</li> <li>运维保障</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/web-notes/assets/js/app.7aab198c.js" defer></script><script src="/web-notes/assets/js/2.73fa03b1.js" defer></script><script src="/web-notes/assets/js/6.ab325388.js" defer></script>
  </body>
</html>
